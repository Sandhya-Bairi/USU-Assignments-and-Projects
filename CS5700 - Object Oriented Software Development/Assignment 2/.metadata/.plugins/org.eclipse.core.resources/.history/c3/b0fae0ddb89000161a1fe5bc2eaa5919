package com.usu.stockMonitoring.observerForms;

import javax.swing.table.DefaultTableModel;

import com.usu.stocks.Portfolio;
import com.usu.stocks.subjectObserver.StocksObserver;

public class PortfolioStockPricePanelObserver extends StocksObserver {
	
	public PortfolioStockPricePanelObserver() {
		stock.registerStockOberserver(this);
	}

	@Override
	public void update(Portfolio portfolios) {
		int row = 0;
		for (String stockSymbol : portfolios.keySet()) {
			((DefaultTableModel)table.getModel()).insertRow(row, new Object[5]);
			((DefaultTableModel)table.getModel()).setValueAt(portfolios.get(stockSymbol).symbol, row, 0);
			((DefaultTableModel)table.getModel()).setValueAt(portfolios.get(stockSymbol).currentPrice, row, 1);
			((DefaultTableModel)table.getModel()).setValueAt(portfolios.get(stockSymbol).bidPrice, row, 2);
			((DefaultTableModel)table.getModel()).setValueAt(portfolios.get(stockSymbol).askPrice, row, 3);
			//((DefaultTableModel)table.getModel()).fireTableDataChanged();
			row++;
		}
	}
}