package com.usu.stockMonitoring.observerForms;

import javax.swing.table.DefaultTableModel;

import com.usu.stocks.Portfolio;
import com.usu.stocks.subjectObserver.StocksObserver;

public class PortfolioStockPricePanelObserver extends StocksObserver {
	
	public PortfolioStockPricePanelObserver() {
		stock.registerStockOberserver(this);
	}

	@Override
	public void update(Portfolio portfolios) {
		int row = 0;
		Object[][] object= new Object[portfolios.size()][4];
		for (String stockSymbol : portfolios.keySet()) {
			/*((DefaultTableModel)table.getModel()).setValueAt(portfolios.get(stockSymbol).symbol, row, 0);
			((DefaultTableModel)table.getModel()).setValueAt(portfolios.get(stockSymbol).currentPrice, row, 1);
			((DefaultTableModel)table.getModel()).setValueAt(portfolios.get(stockSymbol).bidPrice, row, 2);
			((DefaultTableModel)table.getModel()).setValueAt(portfolios.get(stockSymbol).askPrice, row, 3);
			((DefaultTableModel)table.getModel()).fireTableDataChanged();*/
			object[row][0] = portfolios.get(stockSymbol).symbol;
			object[row][1] = portfolios.get(stockSymbol).currentPrice;
			object[row][2] = portfolios.get(stockSymbol).bidPrice;
			object[row][3] = portfolios.get(stockSymbol).askPrice;
			row++;
		}
		table.setModel(new DefaultTableModel(new Object[][] {object},new String[] {"Stock", "Current", "Bid", "Ask Price"}));
	}
}