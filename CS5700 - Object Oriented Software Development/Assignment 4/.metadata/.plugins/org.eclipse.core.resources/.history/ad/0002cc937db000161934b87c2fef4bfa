package com.usu.sudokuSolver.board.test;

import java.io.FileNotFoundException;
import java.io.IOException;
import java.math.BigInteger;
import java.util.Arrays;
import java.util.Comparator;

import org.junit.Assert.*;
import org.junit.Test;
import org.junit.rules.ExpectedException;

import com.usu.sudokuSolver.board.SudokuBoardParser;

public class SudokuBoardParserTest {

    /*String[][] sudoku = {
            {"0","0","2","3"},
            {"0","0","0","0"},
            {"0","0","0","0"},
            {"3","4","0","0"}
    };*/

    @Test(expected = NullPointerException.class)
    public void testParsingLogic_NullInput() {
    	String fileName = null;
        SudokuBoardParser.parse(fileName);
    }
    
    @Test
    public void testParsingLogic_EmptyInput() {
    	ExpectedException expectedException = ExpectedException.none();
    	expectedException.expect(FileNotFoundException.class);
    	String[][] puzzle = SudokuBoardParser.parse("");        
    }
    
    @Test
    public void testParsingLogic() {
        String[][] puzzle = SudokuBoardParser.parse("");
        sort2D(sudoku);
        sort2D(puzzle);
        Assert.assertArrayEquals(sudoku, puzzle);
    }

    public static void sort2D(String[][] array) {
        for(String[] arr : array) {
            Arrays.sort(arr);
        }

        Arrays.sort(array, new Comparator<String[]>() {
            @Override
            public int compare(String[] o1, String[] o2) {
                return new BigInteger(Arrays.toString(o1).replaceAll("[\\[\\], ]", "")).compareTo(new BigInteger(Arrays.toString(o2).replaceAll("[\\[\\], ]", "")));
            }
        });
    }
}
