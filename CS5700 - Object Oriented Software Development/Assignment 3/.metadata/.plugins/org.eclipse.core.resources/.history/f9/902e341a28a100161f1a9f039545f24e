package com.usu.command;

public class UndoCommand extends Command {
	CommandFactory commandFactory;
	
	public UndoCommand(Object[] commandParameters) {
		if (commandParameters.length > 0)
			commandFactory = (CommandFactory)commandParameters[0];
	}

	@Override
	public void execute() {
		if(!commandFactory.undoCommandStack.empty() && !(commandFactory.undoCommandStack.get(0) instanceof NewCommand)) {
			commandFactory.undoCommandStack.pop();
			commandFactory.undoCommandStack.peek().execute();
		} else {
			commandFactory.undoCommandStack.clear();
			commandFactory.create("new");			
		}
	}

}
