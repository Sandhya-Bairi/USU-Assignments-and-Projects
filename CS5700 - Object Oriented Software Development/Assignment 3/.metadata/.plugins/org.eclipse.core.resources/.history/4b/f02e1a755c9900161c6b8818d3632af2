package com.usu.draw;

import java.awt.Graphics2D;

public class ShapeWithAllState extends Shape {

	private ShapeIntrinsicState intrinsicState;
    public ShapeExtrinsicState extrinsicStatic;
    
	@Override
	public void draw(Graphics2D graphics) {
		if (graphics == null || intrinsicState == null) return;

        graphics.DrawImage(IntrinsicState.Image,
            new Rectangle(ExtrinsicStatic.Location.X, ExtrinsicStatic.Location.Y, ExtrinsicStatic.Size.Width, ExtrinsicStatic.Size.Height),
            0, 0, IntrinsicState.Image.Width, IntrinsicState.Image.Height,
            GraphicsUnit.Pixel);

        if (ExtrinsicStatic.IsSelected)
        {
            graphics.DrawRectangle(
                SelectedPen,
                ExtrinsicStatic.Location.X,
                ExtrinsicStatic.Location.Y,
                ExtrinsicStatic.Size.Width,
                ExtrinsicStatic.Size.Height);

            DrawActionHandle(graphics, ExtrinsicStatic.Location.X, ExtrinsicStatic.Location.Y);
            DrawActionHandle(graphics, ExtrinsicStatic.Location.X + ExtrinsicStatic.Size.Width, ExtrinsicStatic.Location.Y);
            DrawActionHandle(graphics, ExtrinsicStatic.Location.X, ExtrinsicStatic.Location.Y + ExtrinsicStatic.Size.Height);
            DrawActionHandle(graphics, ExtrinsicStatic.Location.X + ExtrinsicStatic.Size.Width, ExtrinsicStatic.Location.Y + ExtrinsicStatic.Size.Height);
        }
	}
	
	ShapeWithAllState(ShapeIntrinsicState sharedPart, ShapeExtrinsicState nonsharedPart) {
        intrinsicState = sharedPart;
        extrinsicStatic = nonsharedPart;
    }

}