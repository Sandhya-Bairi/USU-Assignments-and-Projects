package com.usu.draw;

import java.awt.Graphics2D;
import java.awt.Rectangle;

public class ShapeWithAllState extends Shape {

	private ShapeIntrinsicState intrinsicState;
    public ShapeExtrinsicState extrinsicStatic;
    
	@Override
	public void draw(Graphics2D graphics) {
		if (graphics == null || intrinsicState == null) return;

        graphics.DrawImage(intrinsicState.image, new Rectangle(extrinsicStatic.location.x, extrinsicStatic.location.y, extrinsicStatic.size.width, extrinsicStatic.size.height), 0, 0, intrinsicState.image.width, intrinsicState.image.height,
            GraphicsUnit.Pixel);

        if (ExtrinsicStatic.IsSelected)
        {
            graphics.DrawRectangle(
                SelectedPen,
                ExtrinsicStatic.Location.X,
                ExtrinsicStatic.Location.Y,
                ExtrinsicStatic.Size.Width,
                ExtrinsicStatic.Size.Height);

            DrawActionHandle(graphics, ExtrinsicStatic.Location.X, ExtrinsicStatic.Location.Y);
            DrawActionHandle(graphics, ExtrinsicStatic.Location.X + ExtrinsicStatic.Size.Width, ExtrinsicStatic.Location.Y);
            DrawActionHandle(graphics, ExtrinsicStatic.Location.X, ExtrinsicStatic.Location.Y + ExtrinsicStatic.Size.Height);
            DrawActionHandle(graphics, ExtrinsicStatic.Location.X + ExtrinsicStatic.Size.Width, ExtrinsicStatic.Location.Y + ExtrinsicStatic.Size.Height);
        }
	}
	
	ShapeWithAllState(ShapeIntrinsicState sharedPart, ShapeExtrinsicState nonsharedPart) {
        intrinsicState = sharedPart;
        extrinsicStatic = nonsharedPart;
    }

}